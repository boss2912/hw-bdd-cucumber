<div class="app-container">
  <% if notice.present? %>
    <div class="notice"><%= notice %></div>
  <% end %>

  <div class="app-header">
    <div class="app-title">Rotten Potatoes</div>
    <div>
      <%= link_to "New movie", new_movie_path, class: 'btn btn-success btn-new' %>
    </div>
  </div>

  <%= form_tag movies_path, method: :get, id: 'ratings_form', local: true do %>
    <div class="d-flex flex-wrap align-items-center mb-2">
      <div class="mr-3 font-weight-bold">Include:</div>
      <% @all_ratings.each do |rating| %>
        <div class="form-check form-check-inline">
          <%= check_box_tag "ratings[#{rating}]", "1", @ratings_to_show.include?(rating), class: 'form-check-input' %>
          <%= label_tag "ratings[#{rating}]", rating, class: 'form-check-label' %>
        </div>
      <% end %>
      <div class="ml-3 d-flex align-items-center">
        <label class="mr-2 mb-0" for="sort_by">Sort by:</label>
        <%= select_tag :sort_by,
                       options_for_select([["Title", "title"],["Release date", "release_date"]], @sort_by),
                       id:    "sort_by",
                       class: "form-control form-control-sm" %>
      </div>
      <div class="ml-3">
        <%= submit_tag 'Refresh', id: 'ratings_submit', class: 'btn btn-primary' %>
      </div>
    </div>
  <% end %>

  <div id="movies">
    <% @movies.each do |movie| %>
      <%= render movie %>
    <% end %>
  </div>
</div>